# 🏦 금융위원회 기업 재무정보 조회 시스템

## 📝 프로젝트 개요

공공데이터 포털의 금융위원회 기업 재무정보 API를 활용하여 실시간으로 기업의 재무제표 정보를 조회하고 분석할 수 있는 웹 애플리케이션입니다.

---

## 🎯 주요 기능

### 1. 기업 재무정보 검색
- 기업명 또는 고유번호(사업자등록번호)로 기업 검색
- 재무제표 종류 선택 (재무상태표, 손익계산서, 현금흐름표)
- 사업연도 및 보고서 코드 선택

### 2. 재무제표 조회
- 자산총계, 부채총계, 자본총계
- 매출액, 영업이익, 당기순이익
- 현금흐름 정보
- 상세 계정과목별 금액 표시

### 3. 재무비율 분석
- 부채비율 = (부채총계 / 자본총계) × 100
- 자기자본비율 = (자본총계 / 자산총계) × 100
- 유동비율 = (유동자산 / 유동부채) × 100
- ROA (총자산순이익률)
- ROE (자기자본순이익률)

### 4. 데이터 시각화
- 재무 데이터 차트 표시
- 연도별 추이 그래프
- 산업 평균과의 비교

---

## 🔧 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (Vanilla)
- **API**: 금융위원회_기업 재무정보 API (공공데이터포털)
- **차트**: Chart.js 라이브러리
- **디자인**: 반응형 웹 디자인

---

## 📋 API 정보

### API 엔드포인트
- 기업 개황 정보: `/corpOverview`
- 재무제표 정보: `/fnlttSinglAcnt` (단일회사 재무제표)

### 필수 파라미터
- `serviceKey`: API 인증키
- `pageNo`: 페이지 번호
- `numOfRows`: 한 페이지 결과 수
- `resultType`: 결과 형식 (json/xml)
- `corpNm`: 기업명
- `bizrNo`: 사업자등록번호

---

## 🚀 사용 방법

1. **API 키 발급**
   - 공공데이터포털(data.go.kr) 접속
   - 금융위원회_기업 재무정보 API 신청
   - 발급받은 API 키를 입력

2. **기업 검색**
   - 검색창에 기업명 입력
   - 검색 결과에서 원하는 기업 선택

3. **재무정보 조회**
   - 사업연도 선택
   - 재무제표 종류 선택
   - 조회 버튼 클릭

4. **결과 분석**
   - 재무제표 상세 내역 확인
   - 자동 계산된 재무비율 확인
   - 차트로 시각화된 데이터 확인

---

## 📝 기본 구현 계획

### Phase 1: 기본 UI 구성 ✅
- 검색 폼 레이아웃
- 결과 테이블 구조
- 반응형 디자인 적용

### Phase 2: API 연동 ✅
- API 키 입력 기능
- 기업 검색 API 호출
- 재무제표 API 호출
- 샘플 데이터 생성

### Phase 3: 데이터 처리 및 표시 ✅
- JSON 응답 파싱
- 테이블 동적 생성
- 재무비율 자동 계산
- 차트 시각화 (Chart.js)

### Phase 4: 기본 기능 완성 ✅
- 주요 기업 목록
- 2x2 재무비율 카드
- 상세 재무정보 테이블
- 검색 기능

---

## ⚠️ 주의사항

- API 키는 공개되지 않도록 주의
- API 호출 제한(일일 1000건)을 고려하여 사용
- CORS 정책으로 인해 클라이언트 직접 호출 시 제한이 있을 수 있음
- 프로덕션 환경에서는 백엔드 서버를 통한 API 호출 권장

---

## 🚀 Phase 5: 고급 기능 추가 계획

### 1️⃣ 맞춤형 대시보드 (Custom Dashboard)

**목표:** 사용자가 원하는 정보를 한 눈에 볼 수 있는 개인화된 대시보드

#### 기능 구현
- **위젯 시스템**
  - 드래그 앤 드롭으로 위젯 배치 조정
  - 위젯 종류: 재무비율 카드, 차트, 뉴스 피드, 관심 기업 목록
  - 위젯 크기 조절 (Small, Medium, Large)
  - 레이아웃 프리셋 제공 (투자자용, 분석가용, 간단보기)

- **데이터 표시 커스터마이징**
  - 표시할 재무비율 선택
  - 차트 유형 선택 (막대, 선, 파이, 도넛)
  - 색상 테마 커스터마이징

- **기술 스택**
  - GridStack.js 또는 React-Grid-Layout
  - LocalStorage에 레이아웃 설정 저장
  - JSON 형태로 대시보드 설정 관리

#### 구현 단계
1. 위젯 컴포넌트 설계 및 개발
2. 드래그 앤 드롭 기능 구현
3. 설정 저장/불러오기 기능
4. 프리셋 템플릿 제작

---

### 2️⃣ 관심 기업 모니터링 (Watchlist)

**목표:** 자주 조회하는 기업을 저장하고 변동사항을 추적

#### 기능 구현
- **관심 기업 관리**
  - 기업 즐겨찾기 추가/삭제
  - 그룹별 분류 (IT, 자동차, 금융 등)
  - 메모 및 태그 추가
  - 우선순위 설정 (별점)

- **알림 기능**
  - 재무비율 임계값 설정
  - 부채비율 70% 초과 시 알림
  - ROE 15% 이하 하락 시 알림
  - 브라우저 푸시 알림 또는 이메일 알림

- **비교 대시보드**
  - 관심 기업 한눈에 비교
  - 주요 지표 테이블 형태로 표시
  - 색상 코딩 (좋음: 녹색, 나쁨: 빨강)

- **데이터 구조**
```javascript
{
  watchlist: [
    {
      id: "uuid",
      corpName: "삼성전자",
      corpCode: "005930",
      group: "IT",
      tags: ["반도체", "대형주"],
      memo: "AI 사업 주목",
      priority: 5,
      alerts: {
        debtRatio: { threshold: 70, enabled: true },
        roe: { threshold: 15, enabled: true }
      },
      addedDate: "2025-11-24"
    }
  ]
}
```

#### 구현 단계
1. LocalStorage 기반 관심 기업 CRUD
2. 그룹 및 태그 관리 UI
3. 알림 설정 UI
4. 비교 대시보드 개발

---

### 3️⃣ 분석 리포트 자동 생성 (Auto Report)

**목표:** 재무 분석 결과를 PDF 리포트로 자동 생성

#### 기능 구현
- **리포트 구성**
  - 표지: 기업명, 로고, 생성일자
  - 요약: 주요 재무비율 한눈에
  - 재무상태표: 테이블 형태
  - 차트: 재무 구조 시각화
  - 추세 분석: 연도별 비교
  - AI 분석: 자동 생성 코멘트

- **내보내기 형식**
  - PDF 다운로드 (jsPDF + html2canvas)
  - Excel 다운로드 (SheetJS)
  - 이미지 저장 (PNG)
  - 인쇄 최적화 CSS

- **템플릿 시스템**
  - 기본 템플릿
  - 상세 분석 템플릿
  - 투자 의사결정 템플릿
  - 사용자 정의 템플릿

#### 구현 단계
1. 리포트 템플릿 HTML/CSS 디자인
2. jsPDF 라이브러리 통합
3. 차트를 이미지로 변환
4. 다운로드 기능 구현

---

### 4️⃣ 투자 의사결정 지표 (Investment Metrics)

**목표:** 가치 투자를 위한 핵심 지표 제공

#### 추가 지표
- **밸류에이션 지표**
  - PER (주가수익비율) = 시가총액 / 당기순이익
  - PBR (주가순자산비율) = 시가총액 / 자본총계
  - PSR (주가매출액비율) = 시가총액 / 매출액
  - PCR (주가현금흐름비율) = 시가총액 / 영업현금흐름
  - EV/EBITDA = 기업가치 / EBITDA

- **수익성 지표**
  - ROA (총자산순이익률) = 당기순이익 / 총자산 × 100
  - ROIC (투하자본수익률)
  - 영업이익률 = 영업이익 / 매출액 × 100
  - 순이익률 = 당기순이익 / 매출액 × 100

- **성장성 지표**
  - 매출 성장률 (YoY)
  - 영업이익 성장률 (YoY)
  - 순이익 성장률 (YoY)
  - EPS 성장률

- **안정성 지표**
  - 이자보상배율 = 영업이익 / 이자비용
  - 당좌비율 = 당좌자산 / 유동부채 × 100
  - 차입금의존도

- **활동성 지표**
  - 총자산회전율
  - 매출채권회전율
  - 재고자산회전율

#### 시각화
- 레이더 차트로 종합 점수 표시
- 업종 평균과 비교선 표시
- 색상 코딩으로 우수/양호/보통/주의 표시

#### 구현 단계
1. 추가 지표 계산 함수 개발
2. 업종 평균 데이터 수집
3. 레이더 차트 구현
4. 평가 알고리즘 개발

---

### 5️⃣ 기업 뉴스 연동 (News Integration)

**목표:** 재무 데이터와 함께 최신 뉴스 제공

#### 기능 구현
- **뉴스 API 연동**
  - 네이버 뉴스 API
  - 구글 뉴스 RSS
  - 금융감독원 공시 API
  - 한국거래소 공시 정보

- **뉴스 필터링**
  - 기업명 키워드 매칭
  - 날짜별 정렬
  - 중요도별 분류
  - 카테고리별 필터 (공시, 뉴스, 보고서)

- **표시 방식**
  - 타임라인 형태
  - 카드 레이아웃
  - 헤드라인 + 요약
  - 원문 링크

- **공시 정보**
  - 재무제표 제출
  - 주요사항보고
  - 사업보고서
  - 정기공시

#### 구현 단계
1. 뉴스 API 조사 및 선택
2. API 키 발급 및 테스트
3. 뉴스 컴포넌트 UI 개발
4. 캐싱 및 성능 최적화

---

### 6️⃣ AI 분석 기능 (AI-Powered Analysis)

**목표:** 인공지능을 활용한 자동 재무 분석

#### 기능 구현
- **재무 건전성 평가**
  - ML 모델로 종합 점수 산출 (0-100점)
  - 5개 등급: 매우우수, 우수, 보통, 주의, 위험
  - 각 재무비율에 가중치 부여
  - 업종별 모델 적용

- **투자 추천 시스템**
  - 가치주 발굴 알고리즘
  - 저PER, 저PBR, 고ROE 조건
  - 배당수익률 고려
  - 성장성 분석

- **이상 패턴 감지**
  - 급격한 부채 증가
  - 매출 대비 이익 감소
  - 현금흐름 악화
  - 회계 조작 징후

- **자동 코멘트 생성**
  - GPT API 활용
  - 재무 데이터 요약
  - 강점/약점 분석
  - 투자 의견 제시

#### AI 모델 학습
```python
# 간단한 재무 건전성 평가 모델 예시
features = [
    'debt_ratio',      # 부채비율
    'equity_ratio',    # 자기자본비율
    'current_ratio',   # 유동비율
    'roe',            # ROE
    'roa',            # ROA
    'operating_margin' # 영업이익률
]

# 점수 계산 (가중평균)
weights = {
    'debt_ratio': -0.2,      # 낮을수록 좋음
    'equity_ratio': 0.2,     # 높을수록 좋음
    'current_ratio': 0.15,
    'roe': 0.25,
    'roa': 0.1,
    'operating_margin': 0.1
}
```

#### 구현 단계
1. 평가 알고리즘 설계
2. 가중치 및 임계값 설정
3. GPT API 연동 (선택)
4. 결과 시각화

---

## 📊 데이터베이스 설계 (IndexedDB)

브라우저 기반 데이터베이스로 오프라인 지원

```javascript
// IndexedDB 스키마
const dbSchema = {
  name: "FinanceDB",
  version: 1,
  stores: {
    // 관심 기업
    watchlist: {
      keyPath: "id",
      indexes: ["corpCode", "group", "addedDate"]
    },
    // 조회 이력
    searchHistory: {
      keyPath: "id",
      indexes: ["corpCode", "searchDate"]
    },
    // 캐시된 재무 데이터
    financialData: {
      keyPath: "id",
      indexes: ["corpCode", "year", "cachedDate"]
    },
    // 대시보드 설정
    dashboardConfig: {
      keyPath: "userId",
      indexes: ["lastModified"]
    },
    // 사용자 설정
    userSettings: {
      keyPath: "key",
      indexes: []
    }
  }
};
```

---

## 🎨 UI/UX 개선 계획

### 다크모드 구현
- CSS 변수로 색상 관리
- 토글 스위치 추가
- 시스템 설정 자동 감지
- LocalStorage에 선호도 저장

### 애니메이션 강화
- 페이지 전환 효과
- 데이터 로딩 스켈레톤
- 차트 등장 애니메이션
- 마이크로 인터랙션

### 접근성 개선
- 키보드 네비게이션
- ARIA 레이블 추가
- 색상 대비 개선
- 스크린 리더 지원

---

## 🔧 기술 스택 확장

### 프론트엔드
- **차트 라이브러리 추가**
  - ApexCharts (고급 차트)
  - D3.js (커스텀 시각화)
  
- **상태 관리**
  - Zustand 또는 Redux (복잡한 상태 관리)

- **PDF 생성**
  - jsPDF
  - html2canvas
  - pdfMake

- **데이터 처리**
  - PapaParse (CSV 파싱)
  - xlsx (엑셀 처리)

### 백엔드 (선택)
- **서버 구축 시**
  - Node.js + Express
  - Python + Flask/FastAPI
  - 데이터베이스: PostgreSQL
  - 캐싱: Redis

---

## 📅 구현 로드맵

### Week 1-2: 관심 기업 모니터링
- [ ] LocalStorage 기반 CRUD 구현
- [ ] 관심 기업 UI 개발
- [ ] 그룹 및 태그 기능
- [ ] 비교 대시보드

### Week 3-4: 투자 의사결정 지표
- [ ] 추가 재무비율 계산 로직
- [ ] 레이더 차트 구현
- [ ] 지표 카드 UI
- [ ] 평가 시스템

### Week 5-6: 맞춤형 대시보드
- [ ] 위젯 시스템 설계
- [ ] 드래그 앤 드롭 구현
- [ ] 레이아웃 저장/불러오기
- [ ] 프리셋 템플릿

### Week 7-8: 리포트 생성
- [ ] 리포트 템플릿 디자인
- [ ] PDF 생성 기능
- [ ] Excel 내보내기
- [ ] 인쇄 최적화

### Week 9-10: 뉴스 연동
- [ ] 뉴스 API 연동
- [ ] 공시 정보 파싱
- [ ] 뉴스 UI 컴포넌트
- [ ] 필터링 기능

### Week 11-12: AI 분석
- [ ] 재무 건전성 평가 알고리즘
- [ ] 투자 추천 시스템
- [ ] 이상 패턴 감지
- [ ] GPT API 연동 (선택)

---

## 🎯 성공 지표 (KPI)

- 사용자 편의성: 클릭 3회 이내 원하는 정보 접근
- 성능: 페이지 로딩 3초 이내
- 데이터 정확도: 99% 이상
- 모바일 반응성: 모든 화면 크기 지원
- 사용자 만족도: 피드백 수집 및 개선

---

## 📝 다음 액션 아이템

1. **IndexedDB 설정 및 테스트**
2. **관심 기업 관리 기능부터 시작**
3. **재무비율 계산 로직 확장**
4. **차트 라이브러리 선택 및 통합**
5. **리포트 템플릿 디자인 시작**